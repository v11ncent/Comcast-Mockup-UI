<astro-plan>
  <article>
    <header>
      <p class="overline">Connect</p>
      <img
        src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAPCAYAAAARZmTlAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFG2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDYgNzkuZGFiYWNiYiwgMjAyMS8wNC8xNC0wMDozOTo0NCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIyLjQgKE1hY2ludG9zaCkiIHhtcDpDcmVhdGVEYXRlPSIyMDIxLTA2LTAyVDA5OjAyOjQ2LTA3OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMS0wNi0yOVQxNjoxMzoyMi0wNzowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMS0wNi0yOVQxNjoxMzoyMi0wNzowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpmZGQwOTI2My05YTQzLTQ5NzMtYTNkYS00YjQ0OWUxNWE5YWIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6ZmRkMDkyNjMtOWE0My00OTczLWEzZGEtNGI0NDllMTVhOWFiIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6ZmRkMDkyNjMtOWE0My00OTczLWEzZGEtNGI0NDllMTVhOWFiIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpmZGQwOTI2My05YTQzLTQ5NzMtYTNkYS00YjQ0OWUxNWE5YWIiIHN0RXZ0OndoZW49IjIwMjEtMDYtMDJUMDk6MDI6NDYtMDc6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMi40IChNYWNpbnRvc2gpIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgweGqIAAABiSURBVDiNzZRLCoBADEMT7+LR1DuPh4lrp2A7FscGuunvQQOlJHytxWsgeY8Drc+lIUbCOjoyDnmhIpBdLVUPQTwPAh4VOdcUCHGm6gAg6TGMNpv0dhQ51y+QiAf9yIwvfAHvO0QgnCLhVAAAAABJRU5ErkJggg=="
        alt=""
        aria-hidden="true"
        class="image-transform"
      />
      <p>
        <span class="speed">50</span>
        <br />
        <span class="speed-units">Mbps</span>
      </p>
      <p class="devices">Up to 4 devices at a time</p>
    </header>
    <hr class="card-divider" />
    <p class="price">$30/mo</p>
    <footer>
      <p>
        For 12 months with 1-year term contract. Taxes and equipment not
        included.
      </p>
    </footer>
  </article>
</astro-plan>

<script>
  class AstroPlan extends HTMLElement {
    constructor() {
      super();

      const article = this.querySelector("article");
      const articleHeader = this.querySelector("article header");
      const image = this.querySelector("article img");
      const hr = this.querySelector("article hr");

      console.log(article);

      article?.addEventListener("mouseover", (event) => {
        articleHeader?.classList.add("hover");
        image?.classList.add("hover");
        hr?.classList.add("hover");
      });

      article?.addEventListener("mouseout", (event) => {
        articleHeader?.classList.remove("hover");
        image?.classList.remove("hover");
        hr?.classList.remove("hover");
      });
    }
  }

  customElements.define("astro-plan", AstroPlan);
</script>

<style lang="scss">
  @use "../styles/tokens/_tokens.scss" as t;
  $transition: all 300ms linear;

  article {
    margin-top: 2rem;
    padding: 1.5rem;
    border-color: #e3e0fa;
    border: 0.125rem solid t.$clr-plan-border;
    border-width: 0.125rem;
    border-radius: 0.5rem;
    box-shadow: rgba(0, 0, 0, 0) 0rem 1.5rem 0.75rem -0.625rem;
    text-align: center;
    transition: $transition;
    cursor: pointer;
    position: relative;
    inset: 0px;

    &:hover {
      box-shadow: rgba(0, 0, 0, 0.1) 0rem 2.5rem 1.375rem -1.5rem;
      transform: scale(1.025);
    }
  }

  header {
    transition: $transition;

    &.hover {
      transform: translateY(-10px);
    }
  }

  .overline {
    margin: 1rem 0 0.75rem 0;
    font-size: 0.75rem;
    line-height: 1;
    letter-spacing: 0.0625rem;
    text-transform: uppercase;
  }

  img {
    margin: 0 auto 0.75rem auto;
    height: 0.85rem;
    transition: $transition;

    &.hover {
      transform: scale(1.35);
    }
  }

  .speed {
    font-weight: 700;

    letter-spacing: clamp(
      -0.025rem,
      -0.0052rem + -0.030864197530864196vw,
      -0.0125rem
    );

    font-size: clamp(
      1.625rem,
      1.2623456790123457rem + 1.5432098765432098vw,
      2.25rem
    );

    line-height: clamp(
      2.125rem,
      1.7623456790123457rem + 1.5432098765432098vw,
      2.75rem
    );
  }

  .speed-units {
    line-height: 1.5;
    font-weight: 700;
  }

  .devices {
    margin-top: 0.75rem;
  }

  hr {
    margin: 2rem auto;
    width: 2rem;
    color: t.$clr-plan-border;
    transition: $transition;

    &.hover {
      width: 4rem;
    }
  }

  .price {
    margin-bottom: 0.5rem;
    font-size: clamp(1.375rem, 0.875rem + 0.78125vw, 1.5rem);
    line-height: clamp(1.875rem, 1.375rem + 0.78125vw, 2rem);
    letter-spacing: -0.0125rem;
    font-weight: 700;
  }

  footer p {
    margin: 1.5rem 1.25rem 2rem;
    font-size: 0.75rem;
    line-height: 1;
    letter-spacing: 0;
  }
</style>
